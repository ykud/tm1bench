#region Prolog

sTargetCube = 'tm1bench Sales';

if (pDisableLogging@='Y');
    if (CubeExists('}CubeProperties')=1);
        CellPutS('NO','}CubeProperties', sTargetCube, 'LOGGING' );
    endif;
endif;

CubeClearData( sTargetCube );


sUniqueIndex = NumberToString(Int(RAND * 100000));

sSalesFile = 'tm1bench_sales_data_' | sUniqueIndex|'.csv';
ExecuteProcess('tm1bench Sales generate test data',
	'pNumSalesCells', int(pNumSalesCells),
	'pSalesFile', sSalesFile );
ExecuteProcess( 'tm1bench Sales load data','pSourceFile', sSalesFile);

AsciiDelete(sSalesFile);

if (pDisableLogging@='Y');
    if (CubeExists('}CubeProperties')=1);
        CellPutS('YES','}CubeProperties', sTargetCube, 'LOGGING' );
    else;
        logoutput('info','No }CubeProperties cube, must be on V12');
    endif;
endif;

#endregion